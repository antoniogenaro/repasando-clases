<div class="w-full h-full">
  <div class="w-full h-full flex flex-col landscape:flex-row">
    <div class="flex-1 flex flex-col justify-center gap-4">
      <div class="border-b border-neutral-200 p-2 flex gap-2 items-center">
        <h1>Resta</h1>
        <select class="border border-neutral-300 rounded p-1" [formField]="digitsForm">
          @for (option of numberOfDigitsOptions(); track $index) {
            <option [value]="option.value">{{ option.label }}</option>
          }
        </select>
      </div>
      <div class="flex flex-1 justify-center items-center">
        <div class="flex-col items-end gap-0.5 flex">
          <!-- first number -->
          <div style="font-family: monospace; font-size: 1.5rem; font-weight: 600">
            @for (digit of getDigits(a()); track $index) {
              <span class="inline-block w-7 text-center">{{ digit }}</span>
            }
          </div>

          <!-- "-" & second number -->
          <div class="flex gap-1 items-center">
            <span style="font-family: monospace; font-size: 1.5rem; font-weight: 600">−</span>
            <div style="font-family: monospace; font-size: 1.5rem; font-weight: 600">
              @for (digit of getDigits(b()); track $index) {
                <span class="inline-block w-7 text-center">{{ digit }}</span>
              }
            </div>
          </div>

          <!-- separator -->
          <div class="border-t-2 border-neutral-700 mt-1 w-fit min-w-20"></div>

          <!-- response -->
          <div class="font-mono flex" role="group" aria-label="Respuesta">
            @for (d of userDigits(); track $index) {
              <button
                type="button"
                class="digit-btn w-7 h-9.5 text-xl text-center"
                (click)="selectDigit($index)"
                [attr.aria-pressed]="selectedIndex() === $index"
                [class.selected]="selectedIndex() === $index"
                aria-label="Dígito {{ $index + 1 }}"
              >
                {{ d ?? '\u00A0' }}
              </button>
            }
          </div>
        </div>
      </div>

      <div role="status" aria-live="polite">
        {{ message() }}
      </div>

      <div class="mt-4">
        <button
          (click)="reset()"
          class="px-3 py-3 w-full text-base bg-blue-500 text-white hover:bg-blue-600 cursor-pointer"
        >
          Nuevo problema
        </button>
      </div>
    </div>

    <div class="flex flex-col landscape:w-1/2 portrait:h-1/2 landscape:min-h-full">
      <app-numeric-keyboard class="flex-1" (press)="press($event)"></app-numeric-keyboard>
      <div class="flex">
        <button
          (click)="backspace()"
          class="flex-1 px-3 py-3 text-base bg-amber-500 text-white hover:bg-amber-600 cursor-pointer"
        >
          Borrar
        </button>
        <button
          [disabled]="!isFilled()"
          (click)="check()"
          class="flex-1 px-3 py-3 text-base bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed"
        >
          Comprobar
        </button>
      </div>
    </div>
  </div>
</div>
